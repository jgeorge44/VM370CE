###############################################################################
# Hercules configuration file for the VM/370 "Community Edition" system.      #
#                                                                             #
# Important!  This file assumes the directories are set up thusly:            #
#    SixPack                 ...command and configuration files               #
#       |                                                                     #
#       +--3270              ...3270 emulator                                 #
#       |                                                                     #
#       +--disks             ...VM disk files                                 #
#       |    +                                                                #
#       |    |                                                                #
#       |    +--shadows      ...VM shadow disk files                          #
#       +--io                ...unit record I/O, tape files                   #
#                                                                             #
###############################################################################

# These Hercules configuration parameters are documented in the Hercules User
# Reference manual.
ARCHMODE        S/370
CNSLPORT        3270
CODEPAGE        819/1047
#               ^   ^
#               |   |
# ASCII --------+   +----- EBCDIC
CPUMODEL        4381
CPUSERIAL       098052
DEVTMAX         0
DIAG8CMD        DISABLE

ECPSVM          YES
# Certain assists need to be disabled on Hercule Hyperion
# release earlier than 4.4.0.xxxxx, which fixes the assist issue.

# Add the statement below, if a pre-4.4.0.xxxxx version of Hyperion
# is being used, without the fix for HERCULES ECPSVM issue #382 (closed).
# ECPSVM        DISABLE DISP1 DISP2

# ============================================================================
# HTTP Configuration for Hercules V4.x
# ============================================================================
# ----------------------------------------------------------------------------
# Identify the port to find the the Operator Console.
# Ensure you have allowed access to this port via iptables, or firewalld.
# Default is 8081.
# ----------------------------------------------------------------------------
#HTTP PORT ${HTTPPORT:=8081}
# ----------------------------------------------------------------------------
# This is the directory which contains the HTML pages of documentation.
# ----------------------------------------------------------------------------
#HTTP ROOT /usr/local/share/hercules/
# ----------------------------------------------------------------------------
# Start the web server, you should now be able to connect to http://host:8081
# or whatever port you defined above.
# ----------------------------------------------------------------------------
#HTTP START
# ============================================================================   


# Load support for TCPIP instruction.
#LDMOD          DYNINST DYN75

MAINSIZE        16
NUMCPU          2
NUMCPU          2
OSTAILOR        QUIET

PANTITLE        "VM370CE 1.1.3"
# PANRATE and PANTITLE are deprecated in Hercules Hyperion.

PGMPRDOS        RESTRICTED
XPNDSIZE        0

# Next we define the devices attached to our system.
#
# +-----------------------Device number
# |     +-----------------Device type
# |     |       +---------File name and parameters
# |     |       |
# V     V       V
#---    ----    --------------------

# Card Reader   the file "card.txt" in the IO directory will be read.
000C    3505    io/card.txt ascii eof trunc

# Card Punch    anything you punch will be written to "punch.txt" in the IO
#               directory.
000D    3525    io/punch.txt ascii

# Printers      anything you print will be written to "print1.listing" or
#               "print2.listing" in the IO directory.
000E    1403    io/print1.listing
000F    1403    io/print2.listing

# You can access the operator's console through the Hercules window, or you
# can launch a 3270 emulator and have the operator use it.  For the former,
# ensure the next line is not commented.
0009    3215-C  NOPROMPT
# For the latter, comment the above line and un-comment this line:
# 0010    3270  MOD4

# Display Terminals... these are defined in DMKRIO as 3277s.
00C0.32 3270
01C8.7  3270    MOD2
02C8.7  3270
03C8.7  3270

# Display Terminals... these are defined in DMKRIO as 3278-4s.
01C0.7  3270    MOD4
02C0.7  3270
03C0.7  3270

# Typewriter Terminals
000A    1052    NOPROMPT

# Tape Drives
0480    3420    *
0481    3420    *
0580    3420    *
0581    3420    *

# XNET CTCA
0500 CTCE 30882 127.0.0.1 30880

# This disk is used by and replaced by the BREXX interpretor
# and the VM specific GCC runtime library installation and service
# procedure. It intentionally does not have a shadow.
06A0    3350    disks/gccbrx.cckd


# These disks are provided by the VM/370 distribution
06A1    3350    disks/vm50-1.cckd ro sf=disks/shadows/vm50-1_*.shadow
06A2    3350    disks/vm50-2.cckd ro sf=disks/shadows/vm50-2_*.shadow
06A3    3350    disks/vm50-3.cckd ro sf=disks/shadows/vm50-3_*.shadow
06A4    3350    disks/vm50-4.cckd ro sf=disks/shadows/vm50-4_*.shadow
06A5    3350    disks/vm50-5.cckd ro sf=disks/shadows/vm50-5_*.shadow
06A6    3350    disks/vm50-6.cckd ro sf=disks/shadows/vm50-6_*.shadow
06A7    3350    disks/vm50-7.cckd ro sf=disks/shadows/vm50-7_*.shadow
06A8    3350    disks/vm50-8.cckd ro sf=disks/shadows/vm50-8_*.shadow


# Here are the disk drives used by the KICKS application.
06AC    3350    disks/kicks0.cckd ro sf=disks/shadows/kicks0_*.shadow
06AD    3350    disks/vsamin.cckd ro sf=disks/shadows/vsamin_*.shadow

# These two packs are for CMS/DOS.  I have not tested CMS/DOS!
# Un-comment them if you use them.
#06ae    3350    disks/sysres.cckd ro sf=disks/shadows/sysres_*.shadow
#06af    3350    disks/mcat01.cckd ro sf=disks/shadows/mcat01_*.shadow


# This volume contains all mindisks for the CMSUSER userid.
# It could be moved from one VM/370 distribution to a newer one.
06B0    3350    disks/vm50u0.cckd ro sf=disks/shadows/vm50u0_*.shadow

# This volume is shipped with no minidisks.
# Use it for any minidisks you want to add.
# It could be moved from one VM/370 distribution to a newer one.
06B1    3350    disks/vm50u1.cckd ro sf=disks/shadows/vm50u1_*.shadow


#########################################################################
#########################################################################
# 
# Entries below this point install optional Guest Operating Systems as
# clients under VM/370 CE. These are all optional and not required for
# normal operation. Please note that most of these Guest OSes are not
# included in the VM370CE package, and must be downloaded and installed
# (at least unzipped) per the instructions below before they can be used.
#
#########################################################################
#########################################################################

#########################################################################
# Here are the DASD volumes used by the CMS version from CP/67.
# Read the readme-CMS67.txt file before using. These disks are included
# in the VM370CE distribution, to enable them just uncomment the #INCLUDE
# below.
INCLUDE guest-cms67.conf

#########################################################################
# Dedicated DOS/VS devices for George Shedlock's 5-pack DOS/VS system as
# a guest operating system are available from
# http://www.vm370.org/sites/default/files/2022-07/DOSVS_5Pack_V1.0-full.zip
# Download the file above, unzip it into the mail VM370CE installation
# directory, then uncomment the #INCLUDE line below.
# Please see readme-dosvs.txt before using.
#INCLUDE guest-dosvs.conf

#########################################################################
# Dedicated devices for MVS Community Edition (also known as Jay Mosley's
# MVS-sysgen) are available by downloading or building MVSCE from 
# https://github.com/MVS-sysgen/sysgen. To install MVSCE as a guest under
# VM/370, uncomment the #INCLUDE line below. The DASD volumes are expected
# to be "one level up" from the current VM70CE installation directory
# (i.e., the "sysgen" dir and "VM370CE-x.x.x" are in the same directory.)
# Please see readme-mvsce.txt before using.
# Note that the actual disk packs are not included with this distribution!
#INCLUDE guest-mvs.conf

########################################################################
# Dedicated MVS devices for running TK4- MVS as a guest operating system.
# Download TK4- from https://wotho.pebble-beach.ch/tk4-/tk4-_v1.00_current.zip
# Create a directory named "mvs-tk4" within the current VM370CE installation
# directory and unzip the downloaded TK4- file into the "mvs-tk4" directory
# Un-comment this #INCLUDE if you want to use it.
# Please see readme-tk4.txt before using.
# Note that the actual disk packs are not included with this distribution!
#INCLUDE guest-tk4.conf

########################################################################
# Dedicated MVS devices for running TK5 MVS as a guest operating system.
# Download TK5 from https://www.prince-webdesign.nl/images/downloads/mvs-tk5.zip
# Unzip the downloaded TK5 file into the VM370CE main directory.
# Un-comment this #INCLUDE if you want to use it.
# Please see readme-tk5.txt before using.
# Note that the actual disk packs are not included with this distribution!
#INCLUDE guest-tk5.conf

#########################################################################
# Dedicated DASD devices for Rene Ferland's release of Amdahl UTS
# (UNIX V6 for VM/370) as a guest operating system.
# Download the VM370CE "drop-in" from
# https://groups.io/g/h390-vm/files/uts-vmce.zip
# Unzip the uts-vmce.zip file within the current VM370CE installation home
# directory and the files will install into the uts/ directory.
# Please see readme-uts.txt before using.
#INCLUDE guest-uts.conf

